{% extends 'base.html.twig' %}

{% block title %}Region{% endblock %}

{% block body %}
{{parent()}}
<h1>Region</h1>

<table class="table">
    <tbody>
        <tr>
            <th>Id</th>
            <td>{{ region.id }}</td>
        </tr>
        <tr>
            <th>Name</th>
            <td>{{ region.name }}</td>
        </tr>
        <tr>
            <th>Presentation</th>
            <td>{{ region.presentation }}</td>
        </tr>
        <tr>
            <th>Country</th>
            <td>{{ region.country }}</td>
        </tr>

        {% for room in rooms %}
        <tr>
            <td>{{ room.id }}</td>
            <td>{{ room.summary }}</td>
            <td>{{ room.price }}</td>
            <td>{{ room.address }}</td>
            <td>{% for region in room.regions %}{{ region.name }}{% endfor %}</td>
            <td><a href="{{ path('room_show', {'id': room.id}) }}">show</a></td>
            <td>{% if region.id in app.session.get('likes') %}
                <a href="{{ path('room_like', {'id': room.id}) }}"><i class="fas fa-heart"></i></a>
                {% else %}
                <a href="{{ path('room_like', {'id': room.id}) }}"><i class="far fa-heart"></i></a>
                {% endif %}
                {{ dump(app.session.get('likes')) }}
            <td>
        </tr>
        {% else %}
        <tr>
            <td colspan="8">no rooms found</td>
        </tr>
        {% endfor %}
    </tbody>
</table>

<a href="{{ path('region_index') }}">back to list</a>

<a href="{{ path('region_edit', {'id': region.id}) }}">edit</a>

{{ include('region/_delete_form.html.twig') }}
{% endblock %}
